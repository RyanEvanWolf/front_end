#!/usr/bin/env python


import rospy

import matplotlib.pyplot as plt

import matplotlib.style as sty

import os
import statistics
sty.use("seaborn")

from front_end.analysis import getTopic
import numpy as np


inFolder="/home/ryan/recording/i7/BRIEF"
bagFiles=["750.bag","1500.bag","3000.bag","5000.bag"]#,"jetson_5000.bag","jetson_7000.bag"]

for rosbag in bagFiles:


    time1=getTopic(inFolder+"/"+rosbag,"/stereo/time/detection")
    time2=np.array(getTopic(inFolder+"/"+rosbag,"/stereo/time/matches"))+np.array(time1)
    time=np.array(getTopic(inFolder+"/"+rosbag,"/stereo/time/description"))+np.array(time2)    
    feat=getTopic(inFolder+"/"+rosbag,"/stereo/debug/detection")

    plt.scatter(np.array(time)*1000,feat)#getTopic(inFolder+"/"+rosbag,"/stereo/debug/detection"))
plt.show()